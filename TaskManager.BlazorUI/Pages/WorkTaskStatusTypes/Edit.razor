@page "/statustypes/edit/{id:int}"
@using TaskManager.BlazorUI.Contracts
@using TaskManager.BlazorUI.Models.WorkTaskStatusTypes

<AuthorizeView Context="authContext" Roles="Administrator">
	<Authorized>
		<h3>Status Type Details</h3>
		<div class="row">
			<div class="col-md-4">

				@if(Model != null)
				{
				<EditForm Model="@Model" OnValidSubmit="EditStatusType">
					<DataAnnotationsValidator />
					<ValidationSummary />
			
					<div class="form-group">
						<label class="control-label">Status Type Name</label>
						<InputText id="statustypename" class="form-control" @bind-Value="@Model.Name"></InputText>
						<ValidationMessage For="@(() => Model.Name)" />
					</div>
					<div class="form-group">
						<input type="submit" value="Update" class="btn btn-outline-primary" />
					</div>
				</EditForm>
				}
				else if (!string.IsNullOrEmpty(Message))
				{
					<div class="alert alert-danger">
						@Message
					</div>
				}
				else
				{
					<p>Loading...</p>
				}
			</div>
		</div>
	</Authorized>
	<NotAuthorized>
		<div class="alert alert-danger">
			<p>You are not authorized to view this page.</p>
		</div>
	</NotAuthorized>
</AuthorizeView>
<input type="button" value="Cancel" class="btn btn-outline-primary" onclick="@GoBack" />



